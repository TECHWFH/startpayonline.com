<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Equitable Mortgage (EM) Calculator</title>
  <link rel="icon" href="icon.png" type="image/png" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #33EB33;
      color: white;
      text-align: center;
      padding: 12px 8px;
      font-size: 18px;
      font-weight: bold;
      line-height: 1.4em;
      box-shadow: 0px 2px 5px rgba(0,0,0,0.2);
    }
    header a {
      color: white;
      text-decoration: underline;
    }
    .section {
      background: #ffffff;
      margin: 20px;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    h3 {
      font-size: 20px;
      margin-bottom: 12px;
      color: #F5276C;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 12px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #5635E9;
      color: white;
      padding: 10px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }
    .result {
      background: #EDE60C;
      padding: 10px;
      border-radius: 6px;
      margin-top: 15px;
      font-weight: bold;
    }
    .inWords {
      font-weight: bold;
      color: #F5276C;
    }
    .tooltip {
      border-bottom: 1px dotted black;
      cursor: help;
      position: relative;
    }
    .tooltip::after {
      content: attr(data-tooltip);
      position: absolute;
      background: #333;
      color: #fff;
      padding: 5px 8px;
      font-size: 12px;
      border-radius: 5px;
      top: -30px;
      left: 0;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: 0.3s;
      z-index: 999;
    }
    .tooltip:hover::after {
      opacity: 1;
    }
  </style>
</head>
<body>

<header>
  Equitable Mortgage (EM) Calculator by Anurag Rai<br>
  ☎ <a href="https://wa.me/919340726600" target="_blank">9340726600</a><br>
  🛠 Technical Support Consultant
</header>

<div class="section">
  <h3>🔴 Equitable Mortgage (EM) Calculator</h3>

  <label>Secured Loan Amount (₹)</label>
  <input type="number" id="securedAmount" oninput="showWords('securedAmount','emWords')" placeholder="Enter loan amount here">
  <div class="inWords" id="emWords"></div>

  <label>Vendor Fee (%)</label>
  <select id="vendorEM">
    <option value="0">0%</option>
    <option value="0.1">0.10%</option>
    <option value="0.2">0.20%</option>
    <option value="0.25">0.25%</option>
    <option value="0.5">0.50%</option>
    <option value="1">1%</option>
    <option value="2">2%</option>
    <option value="3">3%</option>
    <option value="4">4%</option>
    <option value="5">5%</option>
    <option value="6">6%</option>
    <option value="7">7%</option>
    <option value="8">8%</option>
    <option value="9">9%</option>
    <option value="10">10%</option>
  </select>

  <button onclick="calcEM()">Calculate</button>

  <div class="result" id="emResult"></div>
</div>

<script>
function showWords(inputId, outputId) {
  const value = parseFloat(document.getElementById(inputId).value) || 0;
  document.getElementById(outputId).innerText = value ? "In Words: " + convertNumberToWords(value) : "";
}

function calcEM() {
  let amt = parseFloat(document.getElementById("securedAmount").value) || 0;
  let vendorRate = parseFloat(document.getElementById("vendorEM").value) || 0;

  // ✅ Corrected Duties
  let govt = Math.round(amt * 0.00125);    // 0.125% Govt Stamp Duty
  let janpad = Math.round(amt * 0.00125);  // 0.125% Janpad Duty
  let reg = 1000;                          // Fixed Registration Fee
  let vendorFee = Math.round(amt * vendorRate / 100);

  let total = govt + janpad + reg + vendorFee;

  document.getElementById("emResult").innerHTML = `
    <b class="tooltip" data-tooltip="सरकारी स्टाम्प ड्यूटी (0.125%)">Govt. Stamp Duty:</b> ₹${govt}<br>
    <b class="tooltip" data-tooltip="जनपद ड्यूटी (0.125%)">Janpad Duty:</b> ₹${janpad}<br>
    <b>Registration Fee:</b> ₹${reg}<br>
    <b>Vendor Fee:</b> ₹${vendorFee}<br>
    <b>Total Consultant Fees:</b> ₹${total}
  `;
}

function convertNumberToWords(num) {
  const a = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];
  const b = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
  const c = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];

  function twoDigits(n) {
    if (n < 10) return a[n];
    if (n < 20) return c[n - 10];
    return b[Math.floor(n / 10)] + (n % 10 ? ' ' + a[n % 10] : '');
  }

  function threeDigits(n) {
    return n >= 100 ? a[Math.floor(n / 100)] + ' Hundred ' + twoDigits(n % 100) : twoDigits(n);
  }

  if (!num || isNaN(num)) return "Zero";

  let result = "";
  if (num >= 10000000) {
    result += twoDigits(Math.floor(num / 10000000)) + " Crore ";
    num %= 10000000;
  }
  if (num >= 100000) {
    result += twoDigits(Math.floor(num / 100000)) + " Lakh ";
    num %= 100000;
  }
  if (num >= 1000) {
    result += twoDigits(Math.floor(num / 1000)) + " Thousand ";
    num %= 1000;
  }
  if (num > 0) result += threeDigits(num);
  return result.trim();
}
</script>

</body>
</html>
