<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GST Invoice</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 750px;
      margin: 30px auto;
      padding: 20px;
      border: 1px solid #999;
      font-size: 14px;
      color: #000;
    }
    .topbar {
      text-align: center;
      font-weight: bold;
      font-size: 15px;
      color: #FF0000;
      margin-bottom: 20px;
    }
    .invoice-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .invoice-header h2 {
      margin: 0;
      text-transform: uppercase;
    }
    .invoice-type-select {
      font-size: 14px;
      padding: 4px 8px;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 15px;
    }
    th, td {
      border: 1px solid #000;
      padding: 6px 8px;
      text-align: left;
      vertical-align: middle;
    }
    th {
      background-color: #f0f0f0;
    }
    input[type="text"], input[type="number"] {
      width: 100%;
      border: none;
      border-bottom: 1px dashed #000;
      font-weight: bold;
      font-size: 14px;
      font-family: Arial, sans-serif;
      color: #000;
      padding: 3px 5px;
      box-sizing: border-box;
    }
    input[readonly] {
      background-color: transparent;
      cursor: default;
      color: #000;
    }
    .right {
      text-align: right;
    }
    .amount-words {
      color: #FF0000;
      font-weight: bold;
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .amount-words span {
      color: #000;
      flex-grow: 1;
      text-align: right;
      margin-left: 10px;
      white-space: nowrap;
    }
    .declaration, .terms-container, .sign-right, .mobile-line {
      margin-top: 20px;
      font-size: 13.5px;
    }
    .editable-jurisdiction {
      border: none;
      border-bottom: 1px dashed #000;
      font-size: 13.5px;
      padding: 0 3px;
      width: 180px;
    }
    .terms-container input {
      border-bottom: 1px dashed #000;
      font-weight: bold;
      padding: 2px 5px;
    }
    .bank-details-table th,
    .bank-details-table td {
      border: none;
      padding: 4px 6px;
      font-weight: bold;
    }
    @media print {
      #addRowBtn, #removeRowBtn, button#printBtn {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="topbar">
    üìå by Anurag Rai | ‚òé 9340726600 | üö∞ Technical Support Consultant
  </div>

  <div class="invoice-header">
    <h2>Tax Invoice</h2>
    <select class="invoice-type-select">
      <option>Original for Recipient</option>
      <option>Copy for Recipient</option>
      <option>Triplicate for Transporter</option>
    </select>
  </div>

  <div style="text-align:center; margin-bottom:15px;">
    <strong>Firm Name: <input type="text" value="StartPay Services"></strong><br />
    123 Example Street<br />
    GSTIN: <input type="text" value="23ABCDE1234F1Z5" style="width: 180px;" oninput="extractPAN(this.value)">
    <span id="panDisplay" style="margin-left:10px; font-weight:bold; color:#000;"></span>
  </div>

  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
    <div><strong>Invoice No:</strong> <input type="text" placeholder="Enter Invoice Number"></div>
    <div><strong>Date:</strong> <input type="date"></div>
  </div>

  <table>
    <tr>
      <td colspan="2"><strong>Customer Name:</strong> <input type="text" placeholder="Enter Customer Name"></td>
    </tr>
  </table>

  <table id="productTable">
    <thead>
      <tr>
        <th style="width:5%;">S.No</th>
        <th>Description</th>
        <th style="width:15%;">HSN/SAC</th>
        <th style="width:10%;">Qty</th>
        <th style="width:15%;">Rate</th>
        <th style="width:10%;">GST %</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td><input type="text" value="Professional Service"></td>
        <td><input type="text" value="9983"></td>
        <td><input type="number" min="0" value="1" oninput="calculateAmounts()"></td>
        <td><input type="number" min="0" value="10000" oninput="calculateAmounts()"></td>
        <td><input type="number" min="0" value="18" oninput="calculateAmounts()"></td>
        <td><input type="text" value="11800.00" readonly onkeydown="handleAmountKey(event)"></td>
      </tr>
    </tbody>
  </table>

  <button id="addRowBtn" onclick="addRow()">+ Add Product</button>
  <button id="removeRowBtn" onclick="removeRow()">&minus; Remove Last</button>

  <table>
    <tr>
      <td class="right">Taxable Value:</td>
      <td class="right"><input type="text" id="taxableValue" value="Rs/- 10000.00" readonly></td>
    </tr>
    <tr>
      <td class="right">GST (18%):</td>
      <td class="right"><input type="text" id="gstValue" value="Rs/- 1800.00" readonly></td>
    </tr>
    <tr>
      <td class="right">Total Invoice Amount:</td>
      <td class="right"><input type="text" id="totalAmount" value="Rs/- 11800.00" readonly></td>
    </tr>
  </table>

  <div class="amount-words">
    <strong>Total Invoice Amount (in Words):</strong>
    <span id="amountWords"></span>
  </div>

  <div class="declaration">
    1. Price inclusive of all taxes<br />
    2. Payment: 100% Advance<br />
    3. Goods & Services sold will not be taken back<br />
    4. In case of any dispute arising out of or relating to jurisdiction
    <input type="text" class="editable-jurisdiction" placeholder="Enter jurisdiction details here" maxlength="15" />
    exclusive jurisdiction to settle such disputes.
  </div>

  <div class="terms-container">
    Terms And Conditions Will Be Applicable As Per -
    <input type="text" id="shortcut" value="RMPL" readonly />
    Or For -
    <input type="text" id="companyName" value="RAM MOHAN PVT LTD" class="editable-company" oninput="generateShortcut()" />
  </div>

  <table class="bank-details-table">
    <tr>
      <th>Bank Details ‚Äì Firm Name:</th>
      <td><input type="text" value="ABCD PVT LTD"></td>
      <th>Account Number:</th>
      <td><input type="text" value="999********7887"></td>
    </tr>
    <tr>
      <th>IFSC Code:</th>
      <td><input type="text" value="TOB00595656"></td>
      <th>Bank Name:</th>
      <td><input type="text" value="TEST Bank"></td>
    </tr>
    <tr>
      <th>Branch Name:</th>
      <td colspan="3"><input type="text" value="BHOPAL, BHOPAL"></td>
    </tr>
  </table>

  <div class="sign-right">
    Authorised Signatory<br /><br />(Sign & Stamp)
  </div>

  <div>
    <strong>Receiver's Signature:</strong><br />
    <div class="mobile-line">
      <span>If you have any questions about this invoice, please contact. Mob. No. ‚Äì</span>
      <input type="text" maxlength="10" placeholder="Enter 10-digit mobile" />
    </div>
  </div>

  <div class="footer" style="text-align:center; margin-top:30px; font-size:12px; color:#555;">
    * This is a computer-generated invoice and does not require signature *<br />
    üìû Need Help? <a href="https://wa.me/919340726600" target="_blank" style="color:#0000FF;">Call/WhatsApp: 9340726600</a><br />
    üåê <a href="https://startpayonline.com" target="_blank" style="color:#0000FF;">Visit StartPayOnline</a>
  </div>

  <script>
    function addRow() {
      const tbody = document.getElementById('productTable').getElementsByTagName('tbody')[0];
      const rowCount = tbody.rows.length + 1;
      const row = tbody.insertRow();
      row.innerHTML = `
        <td>${rowCount}</td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="number" min="0" value="1" oninput="calculateAmounts()"></td>
        <td><input type="number" min="0" value="0" oninput="calculateAmounts()"></td>
        <td><input type="number" min="0" value="18" oninput="calculateAmounts()"></td>
        <td><input type="text" readonly onkeydown="handleAmountKey(event)"></td>
      `;
    }

    function removeRow() {
      const tbody = document.getElementById('productTable').getElementsByTagName('tbody')[0];
      if(tbody.rows.length > 1) {
        tbody.deleteRow(-1);
        calculateAmounts();
      }
    }

    function calculateAmounts() {
      const tbody = document.getElementById('productTable').getElementsByTagName('tbody')[0];
      let taxableTotal = 0;
      let gstTotal = 0;

      for(let i = 0; i < tbody.rows.length; i++) {
        const row = tbody.rows[i];
        const qty = parseFloat(row.cells[3].querySelector('input').value) || 0;
        const rate = parseFloat(row.cells[4].querySelector('input').value) || 0;
        const gstPercent = parseFloat(row.cells[5].querySelector('input').value) || 0;
        const taxableValue = qty * rate;
        const gstAmount = taxableValue * gstPercent / 100;
        const amount = taxableValue + gstAmount;
        row.cells[6].querySelector('input').value = amount.toFixed(2);
        taxableTotal += taxableValue;
        gstTotal += gstAmount;
      }

      const totalAmount = taxableTotal + gstTotal;

      document.getElementById('taxableValue').value = "Rs/- " + taxableTotal.toFixed(2);
      document.getElementById('gstValue').value = "Rs/- " + gstTotal.toFixed(2);
      document.getElementById('totalAmount').value = "Rs/- " + totalAmount.toFixed(2);
      document.getElementById('amountWords').textContent = numberToWords(totalAmount) + " Rupees Only /-";
    }

    function generateShortcut() {
      const name = document.getElementById('companyName').value.trim();
      const words = name.split(/\s+/);
      let shortcut = '';
      words.forEach(word => {
        if (word.length > 0) {
          shortcut += word[0].toUpperCase();
        }
      });
      document.getElementById('shortcut').value = shortcut;
    }

    function handleAmountKey(e) {
      const key = e.key;
      if (key === 'Tab' || key === 'Enter') {
        const tbody = document.getElementById('productTable').getElementsByTagName('tbody')[0];
        const lastRow = tbody.rows[tbody.rows.length - 1];
        if(e.target === lastRow.cells[6].querySelector('input')) {
          e.preventDefault();
          addRow();
          tbody.rows[tbody.rows.length - 1].cells[1].querySelector('input').focus();
        }
      }
    }

    function numberToWords(amount) {
      const words = ["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];
      const tens = ["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];
      if(amount === 0) return "Zero";
      amount = Math.floor(amount);
      function inWords(num) {
        if(num < 20) return words[num];
        if(num < 100) return tens[Math.floor(num/10)] + (num%10 > 0 ? " " + words[num%10] : "");
        if(num < 1000) return words[Math.floor(num/100)] + " Hundred " + (num%100 > 0 ? inWords(num%100) : "");
        if(num < 100000) return inWords(Math.floor(num/1000)) + " Thousand " + (num%1000 > 0 ? inWords(num%1000) : "");
        if(num < 10000000) return inWords(Math.floor(num/100000)) + " Lakh " + (num%100000 > 0 ? inWords(num%100000) : "");
        return inWords(Math.floor(num/10000000)) + " Crore " + (num%10000000 > 0 ? inWords(num%10000000) : "");
      }
      return inWords(amount).trim();
    }

    window.onload = function() {
      const gstinInput = document.querySelector('input[value="23ABCDE1234F1Z5"]');
      if (gstinInput) extractPAN(gstinInput.value);
      generateShortcut();
      calculateAmounts();
    };
  
    function extractPAN(gstin) {
      const pan = gstin.length >= 15 ? gstin.slice(2, 12).toUpperCase() : '';
      document.getElementById('panDisplay').textContent = pan ? `(PAN: ${pan})` : '';
    }
  </script>

  <button id="printBtn" onclick="window.print()" style="margin-top:20px; padding:10px 25px; font-weight:bold; cursor:pointer;">Print Invoice</button>
</body>
</html>
