
<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рдкреНрд▓реЙрдЯ рдХреНрд╖реЗрддреНрд░рдлрд▓ рдФрд░ рд▓рд╛рдЧрдд рдХреИрд▓рдХреБрд▓реЗрдЯрд░</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
    body { font-family: Arial, sans-serif; background: #f0f4f8; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 6px; text-align: left; }
    th { background: #ffcdd2; }
    .total-row { background: #ddd; font-weight: bold; }
    .final-total-row { background: linear-gradient(to right, blue, red); color: white; font-weight: bold; }
    .remove-btn { color: red; cursor: pointer; font-weight: bold; }
</style>
</head>
<body class="p-4">

<h1 class="text-2xl font-bold text-center mb-4">ЁЯПЧя╕П рдкреНрд▓реЙрдЯ рдХреНрд╖реЗрддреНрд░рдлрд▓ рдФрд░ рд▓рд╛рдЧрдд рдХреИрд▓рдХреБрд▓реЗрдЯрд░</h1>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="bg-white p-4 rounded shadow">
        <h2 class="font-bold mb-2">рдЗрдирдкреБрдЯ рдкреИрд░рд╛рдореАрдЯрд░реНрд╕</h2>
        <label>рдкреНрд░рддрд┐ рд╡рд░реНрдЧ рдлреБрдЯ рджрд░ (рдкреВрд░реА)</label>
        <input type="number" id="rateFull" value="300" class="border p-1 w-full mb-2">

        <label>рд╢реБрд░реБрдЖрддреА рд▓рдВрдмрд╛рдИ (ft)</label>
        <input type="number" id="initialLength" value="75" class="border p-1 w-full mb-2">

        <label>рд╢реБрд░реБрдЖрддреА рдЪреМрдбрд╝рд╛рдИ (ft)</label>
        <input type="number" id="initialWidth" value="33.6" class="border p-1 w-full mb-2">

        <h3 class="font-bold mt-4 mb-2">рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд▓реЙрдЯ рдХреНрд╖реЗрддреНрд░ (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб рдорд╛рдиреЗрдВ)</h3>
        <div id="dynamic-inputs-container" class="space-y-2"></div>

        <div class="flex gap-2 mt-2">
            <select id="addItemSelect" class="border p-1 flex-grow">
                <option value="рдмрд╛рд▓рдХрдиреА (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб 4 ft)">рдмрд╛рд▓рдХрдиреА (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб 4 ft)</option>
                <option value="рдХреИрдгреНрдЯрд┐рд▓реАрд╡рд░ (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб 1 ft)">рдХреИрдгреНрдЯрд┐рд▓реАрд╡рд░ (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб 1 ft)</option>
                <option value="рд╕реНрд▓реИрдм (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рд╕реНрд▓реИрдм (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
                <option value="рд▓рд┐рдВрдЯрд▓ рдмреАрдо (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рд▓рд┐рдВрдЯрд▓ рдмреАрдо (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
                <option value="рд╕реАрдврд╝реА (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рд╕реАрдврд╝реА (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
                <option value="рдмреАрдо рдлреБрдЯ (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рдмреАрдо рдлреБрдЯ (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
                <option value="рдЕрдиреНрдп (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рдЕрдиреНрдп (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
                <option value="рдкреНрд▓реЙрдЯ 1 (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рдкреНрд▓реЙрдЯ 1 (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
                <option value="рдкреНрд▓реЙрдЯ 2 (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)">рдкреНрд▓реЙрдЯ 2 (рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб)</option>
            </select>
            <button id="addItemBtn" class="bg-blue-500 text-white px-2">+</button>
        </div>
    </div>

    <div class="bg-white p-4 rounded shadow md:col-span-2">
        <h2 class="font-bold">Area Calculation Summary</h2>
        <table>
            <thead>
                <tr><th>рдЖрдЗрдЯрдо</th><th>рд▓рдВрдмрд╛рдИ (ft)</th><th>рдЪреМрдбрд╝рд╛рдИ (ft)</th><th>рдХреНрд╖реЗрддреНрд░рдлрд▓ (sq.ft)</th><th>рдЕрдВрддрд░ (sq.ft)</th></tr>
            </thead>
            <tbody id="area-summary-body"></tbody>
        </table>

        <h2 class="font-bold mt-4">Details Summary (Cost)</h2>
        <table>
            <thead>
                <tr><th>рдЖрдЗрдЯрдо</th><th>рдкреВрд░реА рд░рд╛рд╢рд┐</th><th>рдЖрдзреА рд░рд╛рд╢рд┐</th><th>рдкреНрд░рддрд┐ рд╡рд░реНрдЧ рдлреБрдЯ рджрд░</th></tr>
            </thead>
            <tbody id="cost-summary-body"></tbody>
        </table>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const formatRs = (value) => {
        if (isNaN(value)) return 'тВ╣ 0.00';
        return 'тВ╣ ' + (value || 0).toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    };
    const formatNumber = (value, decimals = 2) => {
        if (isNaN(value)) return '0.00';
        return (value || 0).toLocaleString('en-IN', { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
    };

    document.getElementById('addItemBtn').addEventListener('click', () => {
        const name = document.getElementById('addItemSelect').value;
        const def = name.includes("4 ft") ? 4 : (name.includes("1 ft") ? 1 : 0);
        const container = document.getElementById('dynamic-inputs-container');
        const div = document.createElement('div');
        div.className = "border p-2 rounded bg-gray-50";
        div.innerHTML = `<div class="flex justify-between items-center mb-1">
                            <strong>${name}</strong>
                            <span class="remove-btn">тЭМ</span>
                         </div>
                         <label>рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб рд╡реГрджреНрдзрд┐ (ft) рд▓рдВрдмрд╛рдИ</label>
                         <input type="number" class="dyn-l border p-1 w-full mb-1" value="${def}">
                         <label>рдкреНрд░рддрд┐-рд╕рд╛рдЗрдб рд╡реГрджреНрдзрд┐ (ft) рдЪреМрдбрд╝рд╛рдИ</label>
                         <input type="number" class="dyn-w border p-1 w-full" value="${def}">`;
        container.appendChild(div);
        div.querySelectorAll('input').forEach(inp => inp.addEventListener('input', updateAll));
        div.querySelector('.remove-btn').addEventListener('click', () => { div.remove(); updateAll(); });
        updateAll();
    });

    document.querySelectorAll('input').forEach(inp => inp.addEventListener('input', updateAll));

    function updateAll(){
        const rateFull = parseFloat(document.getElementById('rateFull').value) || 0;
        const rateHalf = rateFull / 2;
        let len = parseFloat(document.getElementById('initialLength').value) || 0;
        let wid = parseFloat(document.getElementById('initialWidth').value) || 0;
        let area = len * wid;
        let htmlArea = `<tr><td>Initial Plot</td><td>${formatNumber(len)}</td><td>${formatNumber(wid)}</td><td>${formatNumber(area)}</td><td>-</td></tr>`;
        let htmlCost = `<tr><td>Initial Plot</td><td>${formatRs(area * rateFull)}</td><td>${formatRs(area * rateFull)}</td><td>${formatRs(rateFull)}</td></tr>`;
        let prevArea = area;
        let totalFull = area * rateFull;
        let totalHalf = area * rateFull;

        document.querySelectorAll('#dynamic-inputs-container > div').forEach((div) => {
            const stepName = div.querySelector('strong').textContent;
            const pl = parseFloat(div.querySelector('.dyn-l').value) || 0;
            const pw = parseFloat(div.querySelector('.dyn-w').value) || 0;
            len += pl*2;
            wid += pw*2;
            const newArea = len * wid;
            const diff = newArea - prevArea;
            prevArea = newArea;
            htmlArea += `<tr><td>${stepName}</td><td>+${pl*2}</td><td>+${pw*2}</td><td>-</td><td>${formatNumber(diff)}</td></tr>`;
            htmlArea += `<tr class="total-row"><td>Total After ${stepName}</td><td>${formatNumber(len)}</td><td>${formatNumber(wid)}</td><td>${formatNumber(newArea)}</td><td>-</td></tr>`;
            totalFull += diff * rateFull;
            totalHalf += diff * rateHalf;
            htmlCost += `<tr><td>${stepName}</td><td>${formatRs(diff * rateFull)}</td><td>${formatRs(diff * rateHalf)}</td><td>${formatRs(rateFull)}</td></tr>`;
        });

        htmlArea += `<tr class="final-total-row"><td>Final Plot</td><td>${formatNumber(len)}</td><td>${formatNumber(wid)}</td><td>${formatNumber(len*wid)}</td><td>-</td></tr>`;
        htmlCost += `<tr class="total-row"><td>GRAND TOTAL</td><td>${formatRs(totalFull)}</td><td>${formatRs(totalHalf)}</td><td>-</td></tr>`;

        document.getElementById('area-summary-body').innerHTML = htmlArea;
        document.getElementById('cost-summary-body').innerHTML = htmlCost;
    }

    updateAll();
});
</script>

</body>
</html>
