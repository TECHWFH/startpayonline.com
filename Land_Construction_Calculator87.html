<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Plot Calculator</title>
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #f8f9fa;
            --text-color: #212529;
            --border-color: #dee2e6;
            --header-bg: #e9ecef;
            --highlight-red: #d9534f; /* Professional Red Color */
            --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.07);
            --card-radius: 8px;
        }
        
        /* General Body Styles */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 2rem;
            background-color: var(--secondary-color);
            color: var(--text-color);
            transition: padding 0.3s ease;
        }
        
        /* Main Layout Container */
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
        }
        
        /* Card Style for Sections */
        .card {
            background-color: white;
            padding: 1.5rem;
            border-radius: var(--card-radius);
            border: 1px solid var(--border-color);
            box-shadow: var(--card-shadow);
        }

        /* Sidebar for Inputs */
        .sidebar {
            flex: 1;
            min-width: 300px;
        }

        /* Main Content for Results */
        .main-content {
            flex: 2.5;
            min-width: 450px;
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
        }
        .calc-section {
            flex: 1;
            min-width: 280px;
        }

        /* Typography */
        h1, h2, h3 {
            margin-top: 0;
            color: var(--text-color);
        }
        h1 {
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        h2 {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .highlight-red {
            color: var(--highlight-red);
            font-weight: bold;
        }
        
        /* Form & Input Styles */
        .input-group {
            margin-bottom: 1rem;
        }
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        .input-group input[type="number"] {
            width: 100%;
            padding: 0.75rem;
            box-sizing: border-box;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .input-group input[type="number"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25);
        }
        .radio-group label {
            margin-right: 1rem;
            font-weight: normal;
        }
        .info-box {
            background-color: #e7f3fe;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin-top: 0.5rem;
            border-radius: 4px;
            font-size: 0.9em;
        }
        input:disabled {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        /* Collapsible Dropdown Styles */
        details {
            border: 1px solid var(--border-color);
            border-radius: var(--card-radius);
            margin-bottom: 1rem;
        }
        details[open] {
            border-color: var(--primary-color);
        }
        summary {
            font-weight: 600;
            cursor: pointer;
            padding: 0.75rem 1rem;
            list-style: none; /* Hide default arrow */
            position: relative;
        }
        summary::after { /* Custom Arrow */
            content: '‚ñº';
            position: absolute;
            right: 1rem;
            font-size: 0.8em;
            transition: transform 0.2s;
        }
        details[open] summary::after {
            transform: rotate(180deg);
        }
        .details-content {
            padding: 0 1rem 1rem 1rem;
        }
        
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            text-align: left;
            word-break: break-word;
        }
        th {
            background-color: var(--header-bg);
            font-weight: 600;
        }
        .total-row {
            background-color: var(--header-bg);
        }
        
        /* --- MOBILE RESPONSIVE STYLES --- */
        @media (max-width: 992px) {
            .container, .main-content {
                flex-direction: column;
            }
            .sidebar, .main-content {
                min-width: 100%;
            }
        }
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            h1 { font-size: 1.5rem; }
            .card { padding: 1rem; }
        }
    </style>
</head>
<body>

    <h1>üèóÔ∏è Professional Plot Calculator</h1>

    <div class="container">
        <div class="sidebar card">
            <h2>Input Parameters</h2>

            <div class="input-group">
                <label>Input Method</label>
                <div class="radio-group">
                    <label><input type="radio" name="inputMethod" value="dims" checked> By Dimensions</label>
                    <label><input type="radio" name="inputMethod" value="area"> By Total Area</label>
                </div>
            </div>

            <h3>Initial Plot Details</h3>
            <div class="input-group">
                <label for="initialLength">Initial Length (ft)</label>
                <input type="number" id="initialLength" value="75">
            </div>
            <div class="input-group">
                <label for="initialWidth">Initial Width (ft)</label>
                <input type="number" id="initialWidth" value="33.6">
            </div>
            <div class="input-group">
                <label for="initialArea">Initial Plot Area (sq.ft)</label>
                <input type="number" id="initialArea" value="2520" disabled>
                 <div id="infoBox" class="info-box" style="display: none;"></div>
            </div>

            <h3>Costing Details</h3>
            <div class="input-group">
                <label for="rateFull">Amount Per Sq ft (Full Rate)</label>
                <input type="number" id="rateFull" value="230">
            </div>

            <h3>Additions</h3>
            <details>
                <summary>Add Balcony Plot Area</summary>
                <div class="details-content">
                    <div class="input-group">
                        <label for="lBalcony">Balcony Length to Add (ft)</label>
                        <input type="number" id="lBalcony" value="4">
                    </div>
                    <div class="input-group">
                        <label for="wBalcony">Balcony Width to Add (ft)</label>
                        <input type="number" id="wBalcony" value="4">
                    </div>
                </div>
            </details>
            <details>
                <summary>Add Cantilever Plot Area</summary>
                <div class="details-content">
                    <div class="input-group">
                        <label for="lCantilever">Cantilever Length to Add (ft)</label>
                        <input type="number" id="lCantilever" value="1">
                    </div>
                    <div class="input-group">
                        <label for="wCantilever">Cantilever Width to Add (ft)</label>
                        <input type="number" id="wCantilever" value="1">
                    </div>
                </div>
            </details>

        </div>

        <div class="main-content">
            <div class="calc-section card">
                <h2>Area Calculation Summary</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Length</th>
                            <th>Width</th>
                            <th>Area</th>
                            <th>Diff.</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Building/built-up Plot Area</td>
                            <td id="res_L0"></td>
                            <td id="res_W0"></td>
                            <td id="res_Area0"></td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><b>Add Balcony</b></td>
                            <td id="res_L_add_bal"></td>
                            <td id="res_W_add_bal"></td>
                            <td>-</td>
                            <td id="res_diff_bal"></td>
                        </tr>
                        <tr class="total-row">
                            <td><i class="highlight-red">Total Plot Area 1</i></td>
                            <td id="res_L_after_bal"></td>
                            <td id="res_W_after_bal"></td>
                            <td id="res_Area_after_bal"></td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><b>Add Cantilever</b></td>
                            <td id="res_L_add_can"></td>
                            <td id="res_W_add_can"></td>
                            <td>-</td>
                            <td id="res_diff_can"></td>
                        </tr>
                        <tr class="total-row">
                            <td><i class="highlight-red">Final Plot Area</i></td>
                            <td id="res_L_final"></td>
                            <td id="res_W_final"></td>
                            <td id="res_Area_final"></td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="calc-section card">
                <h2>Details Summary (Cost)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Full Amt.</th>
                            <th>Half Amt.</th>
                            <th>Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Building/built-up Plot Area</td>
                            <td id="cost_full_build"></td>
                            <td id="cost_half_build"></td>
                            <td id="rate_build"></td>
                        </tr>
                        <tr>
                            <td>Add Balcony Plot Area</td>
                            <td id="cost_full_bal"></td>
                            <td id="cost_half_bal"></td>
                            <td id="rate_bal"></td>
                        </tr>
                         <tr>
                            <td>Add Cantilever Plot Area</td>
                            <td id="cost_full_can"></td>
                            <td id="cost_half_can"></td>
                            <td id="rate_can"></td>
                        </tr>
                        <tr class="total-row">
                            <td><b>GRAND TOTAL</b></td>
                            <td id="cost_total_full"></td>
                            <td id="cost_total_half"></td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const inputs = document.querySelectorAll('input[type="number"], input[type="radio"]');
    inputs.forEach(input => input.addEventListener('input', calculateAll));

    document.querySelectorAll('input[name="inputMethod"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const useDims = this.value === 'dims';
            document.getElementById('initialLength').disabled = !useDims;
            document.getElementById('initialWidth').disabled = !useDims;
            document.getElementById('initialArea').disabled = useDims;
            document.getElementById('infoBox').style.display = useDims ? 'none' : 'block';
            calculateAll();
        });
    });

    const formatCurrency = (value) => new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR' }).format(value);
    const formatNumber = (value, decimals = 2) => value.toLocaleString('en-IN', { minimumFractionDigits: decimals, maximumFractionDigits: decimals });

    function calculateAll() {
        const useDims = document.querySelector('input[name="inputMethod"]:checked').value === 'dims';
        let L0 = parseFloat(document.getElementById('initialLength').value) || 0;
        let W0 = parseFloat(document.getElementById('initialWidth').value) || 0;
        let Area0 = parseFloat(document.getElementById('initialArea').value) || 0;
        
        if (useDims) {
            Area0 = L0 * W0;
            document.getElementById('initialArea').value = Area0.toFixed(2);
        } else {
            if (Area0 > 0) {
                L0 = Math.sqrt(Area0);
                W0 = Math.sqrt(Area0);
                document.getElementById('initialLength').value = L0.toFixed(2);
                document.getElementById('initialWidth').value = W0.toFixed(2);
                document.getElementById('infoBox').innerHTML = `Assuming a square plot, L & W are <b>${L0.toFixed(2)} ft</b> each.`;
            } else {
                L0 = W0 = 0;
                document.getElementById('initialLength').value = 0;
                document.getElementById('initialWidth').value = 0;
                document.getElementById('infoBox').innerHTML = `Enter a valid area.`;
            }
        }

        const rateFull = parseFloat(document.getElementById('rateFull').value) || 0;
        const lBalcony = parseFloat(document.getElementById('lBalcony').value) || 0;
        const wBalcony = parseFloat(document.getElementById('wBalcony').value) || 0;
        const lCantilever = parseFloat(document.getElementById('lCantilever').value) || 0;
        const wCantilever = parseFloat(document.getElementById('wCantilever').value) || 0;

        const lAfterBal = L0 + lBalcony;
        const wAfterBal = W0 + wBalcony;
        const areaAfterBal = lAfterBal * wAfterBal;
        const diffBalcony = areaAfterBal - Area0;

        const lFinal = lAfterBal + lCantilever;
        const wFinal = wAfterBal + wCantilever;
        const areaFinal = lFinal * wFinal;
        const diffCantilever = areaFinal - areaAfterBal;

        const rateHalf = rateFull / 2;
        const costFullBuild = Area0 * rateFull;
        const costHalfBuild = costFullBuild;
        const costFullBal = diffBalcony * rateFull;
        const costHalfBal = diffBalcony * rateHalf;
        const costFullCan = diffCantilever * rateFull;
        const costHalfCan = diffCantilever * rateHalf;
        const totalFullCost = costFullBuild + costFullBal + costFullCan;
        const totalHalfCost = costHalfBuild + costHalfBal + costHalfCan;

        document.getElementById('res_L0').textContent = formatNumber(L0);
        document.getElementById('res_W0').textContent = formatNumber(W0);
        document.getElementById('res_Area0').textContent = formatNumber(Area0);
        document.getElementById('res_L_add_bal').textContent = `+${formatNumber(lBalcony)}`;
        document.getElementById('res_W_add_bal').textContent = `+${formatNumber(wBalcony)}`;
        document.getElementById('res_diff_bal').textContent = formatNumber(diffBalcony);
        document.getElementById('res_L_after_bal').textContent = formatNumber(lAfterBal);
        document.getElementById('res_W_after_bal').textContent = formatNumber(wAfterBal);
        document.getElementById('res_Area_after_bal').textContent = formatNumber(areaAfterBal);
        document.getElementById('res_L_add_can').textContent = `+${formatNumber(lCantilever)}`;
        document.getElementById('res_W_add_can').textContent = `+${formatNumber(wCantilever)}`;
        document.getElementById('res_diff_can').textContent = formatNumber(diffCantilever);
        document.getElementById('res_L_final').textContent = formatNumber(lFinal);
        document.getElementById('res_W_final').textContent = formatNumber(wFinal);
        document.getElementById('res_Area_final').textContent = formatNumber(areaFinal);

        document.getElementById('cost_full_build').textContent = formatCurrency(costFullBuild);
        document.getElementById('cost_half_build').textContent = formatCurrency(costHalfBuild);
        document.getElementById('rate_build').textContent = formatNumber(rateFull);
        document.getElementById('cost_full_bal').textContent = formatCurrency(costFullBal);
        document.getElementById('cost_half_bal').textContent = formatCurrency(costHalfBal);
        document.getElementById('rate_bal').textContent = formatNumber(rateHalf);
        document.getElementById('cost_full_can').textContent = formatCurrency(costFullCan);
        document.getElementById('cost_half_can').textContent = formatCurrency(costHalfCan);
        document.getElementById('rate_can').textContent = formatNumber(rateHalf);
        document.getElementById('cost_total_full').textContent = formatCurrency(totalFullCost);
        document.getElementById('cost_total_half').textContent = formatCurrency(totalHalfCost);
    }

    calculateAll();
});
</script>

</body>
</html>